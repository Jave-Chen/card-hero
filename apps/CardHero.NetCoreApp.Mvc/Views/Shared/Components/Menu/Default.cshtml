@model MenuViewComponentModel

@{ 
    var isAuthenticated = User.Identity.IsAuthenticated;
}

<nav class="navbar navbar-dark bg-dark navbar-expand-md fixed-top">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar-header" aria-controls="navbar-header" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <a asp-controller="Home" asp-action="Index" class="navbar-brand">
        <img src="~/favicon.ico" class="d-inline-block align-top" width="32" height="32" alt="@CardHeroConstants.ApplicationName" />
        @CardHeroConstants.ApplicationName
    </a>

    <div class="collapse navbar-collapse" id="navbar-header">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" asp-action="Index" asp-controller="Card">Cards</a>
            </li>

            @if (isAuthenticated)
            {
                <li class="nav-item">
                    <a class="nav-link" asp-action="Index" asp-controller="Deck">Decks</a>
                </li>
            }

            <li class="nav-item">
                <a class="nav-link" asp-action="Index" asp-controller="Game">Games</a>
            </li>
        </ul>

        <ul class="navbar-nav ml-auto">
            @if (isAuthenticated)
            {
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="user-navbar-dropdown-menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" asp-action="Index" asp-controller="Profile">
                        @User.Identity.Name
                    </a>

                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="user-navbar-dropdown-menu">
                        <a class="dropdown-item" asp-action="Index" asp-controller="Profile">Profile</a>
                        <a class="dropdown-item" href="#">Active Games</a>

                        <div class="dropdown-divider"></div>

                        <a class="dropdown-item" href="#">Settings</a>

                        <div class="dropdown-divider"></div>

                        <a class="dropdown-item" asp-action="Logout" asp-controller="Account">Logout</a>
                    </div>
                </li>
            }
            else
            {
                <li class="nav-item"><a class="nav-link" asp-action="Login" asp-controller="Account">Login</a></li>
            }
        </ul>
    </div>
</nav>
